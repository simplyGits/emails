const path = require('path');
const jade = require('jade');
const inlineCss = require('inline-css');

function getHtml (filename, options) {
	const file = path.join(__dirname, filename);
	const html = jade.renderFile(file, options);
	return inlineCss(html, {
		preserveMediaQueries: true,
		removeHtmlSelectors: true,
		url: '/',
	});
}

module.exports = {
	cijfer: function (options) {
		options.insufficient = options.passed ? '' : 'insufficient';
		return getHtml('cijfer.jade', options);
	},
	project: function (options) {
		return getHtml('project.jade', options);
	},
	html: function (options) {
		return getHtml('html.jade', options);
	},
};
